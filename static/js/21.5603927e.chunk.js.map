{"version":3,"sources":["views/stduioDynamic/function/someFun.js","views/stduioDynamic/Capsules/ShowCapsuleItem.js","views/stduioDynamic/Capsules/CapsulesYearItem.js","views/stduioDynamic/Capsules/index.js"],"names":["getNowPath","pathname","smNav","detRoute","substr","split","shift","length","nav","detailRoute","ShowCapsuleItem","getRoute","routeArr","props","history","location","setState","smNavdata","navData","nowData","state","dataSource","isLoading","this","className","Component","CapsulesYearItem","detailClick","id","push","data","yearInfoList","map","item","key","capsule_id","onClick","bind","capsule_title","capsule_time","style","float","Capsules","withRouter","getData","getHandleCapsule","then","resp","fillAllYearsInfo","catch","err","finally","clone1","deepClone","oldArrYearsInfo","createYearObj","yearInfo","forEach","mItem","year","Number","moment","format","j","sItem","findInfo","yearItem","createYearItem","sort","a","b","yearArrSort","arrYearsInfo","mainImgData","imgUrl","smImgUrl","headTitle","imgHeight","_data","JSON","stringify","parse","MainImg"],"mappings":"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","file":"static/js/21.5603927e.chunk.js","sourcesContent":["const getNowPath = (pathname)=>{\r\n    var smNav = []\r\n    const location = pathname\r\n    var detRoute = ''\r\n    smNav = location.substr(1).split('/')\r\n    smNav.shift()\r\n    if(smNav.length ===3){   //  说明有 详细路由的存在\r\n        detRoute = pathname\r\n        smNav.length = 2\r\n    }\r\n    const navData = {\r\n        nav: smNav,\r\n        detailRoute: detRoute\r\n    }\r\n    return navData\r\n}\r\n\r\nexport {\r\n    getNowPath\r\n}","import React, { Component } from 'react'\r\nimport {getNowPath} from '../function/someFun'\r\nimport {SmallNav} from '../../../components'\r\n\r\n\r\nexport default class ShowCapsuleItem extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state={\r\n            dataSource:[],\r\n            isLoading:false,\r\n            smNavdata:{\r\n                navData:[],\r\n                nowData:''\r\n            }\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.getRoute()\r\n    }\r\n    getRoute = ()=>{\r\n        const routeArr = getNowPath(this.props.history.location.pathname)\r\n        this.setState({\r\n            smNavdata:{\r\n                navData:routeArr.nav,\r\n                nowData:routeArr.detailRoute,\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <SmallNav smNavdata={this.state.smNavdata}  />\r\n                <div className=\"f-content\">\r\n                    <div className=\"page-content\">\r\n                        <div className=\"myNormalFont capDetailHead\" >\r\n                            <div className=\"capDetailTitle\">\r\n                               追加10亿，设立15亿元“战疫基金”,斩获多国最高安全资质\r\n                            </div>\r\n                            <div className=\"capDetailTime\" >\r\n                                2020.03.02\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"capDetailContent\">\r\n                            <p>\r\n                            产业互联网发展步入全球化、系统化的时代，信息安全被赋予新的定义和范畴。\r\n                            </p>\r\n                            <p>为了协助更多云上企业构建全球化的安全体系、实现业务的降本增效，腾讯云在全球范围内推动安全合规的进程，夯实信息安全管理和安全防护的基础建设，已成功斩获多个国家的最高等级安全资质，为企业发展开辟安全合规的航线。</p>\r\n                        </div>  \r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </>\r\n\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {getNowPath} from '../function/someFun'\r\n\r\n\r\nexport default class CapsulesYearItem extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state={            \r\n        }\r\n    }\r\n    detailClick = (id)=>{\r\n        this.props.history.push(`/info/capsules/detailecapsules/:${id}`)\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"years-box\" >\r\n                <div className=\"years-box-title\" >\r\n                    <h1>\r\n                        {this.props.data}\r\n                    </h1>\r\n                </div>\r\n                <div className=\"years-box-content\" >\r\n                {\r\n                    this.props.yearInfoList.map(item=>{\r\n                        return(\r\n                            <div className=\"events-box\" key={item.capsule_id} onClick={this.detailClick.bind(item,item.capsule_id)}>\r\n                                <div className=\"event-title\">\r\n                                    {/* id: {item.capsule_id} */}\r\n                                    {/* <h2>\r\n                                        业绩新闻\r\n                                    </h2> */}\r\n                                </div>\r\n                                <div className=\"event\">\r\n                                    <div className=\"event-left\" >\r\n                                        <div className=\"event-sm-title\">\r\n                                            <h5>\r\n                                            {item.capsule_title}\r\n                                            </h5>\r\n                                        </div>\r\n                                        <div className=\"event-data\">\r\n                                            {item.capsule_time}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"right\" style={{float:\"right\"}}>\r\n                                        {/* 下载 */}\r\n                                    </div>\r\n                                    <div className=\"both\"></div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                <div className=\"both\"></div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport {getHandleCapsule} from '../../../services'\r\n\r\nimport MainImg  from '../../Home/MainImg'\r\n\r\nimport  moment from 'moment'\r\nimport CapsulesYearItem  from './CapsulesYearItem'\r\nimport {withRouter,Route,Switch, Redirect} from 'react-router-dom'\r\n\r\n\r\nimport {getNowPath} from '../function/someFun'\r\nimport {SmallNav} from '../../../components'\r\nimport ShowCapsuleItem  from './ShowCapsuleItem'\r\n\r\n@withRouter class Capsules extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state={\r\n            isLoading:false,\r\n            arrYearsInfo:[],\r\n            // 该页面 大图信息\r\n            mainImgData: {\r\n                imgUrl: 'url(\"../image/titleJpg2.jpg\")',\r\n                smImgUrl: 'url(\"../image/titleSM.jpg\")',\r\n                headTitle: '工作室时讯',\r\n                imgHeight: '20rem'\r\n            },\r\n            smNavdata:{\r\n                navData:[],\r\n                nowData:''\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getData()\r\n        this.getRoute()\r\n        // this.fillAllYearsInfo()\r\n    }\r\n\r\n    getData = ()=>{\r\n        this.setState({\r\n          isLoading:true\r\n        })\r\n        getHandleCapsule()\r\n        .then(resp =>{  \r\n            this.fillAllYearsInfo(resp.data)\r\n        //   this.setState({          \r\n        //     dataSource:resp.data,\r\n        //   })\r\n        }).catch(err=>{\r\n  \r\n        }).finally(err =>{\r\n          this.setState({\r\n            isLoading:false\r\n          })\r\n        })\r\n      }\r\n\r\n    deepClone(data) {\r\n        let _data = JSON.stringify(data),\r\n        dataClone = JSON.parse(_data);\r\n        return dataClone;\r\n    }\r\n\r\n    fillAllYearsInfo = (dataSource)=>{\r\n        const clone1 = this.deepClone(dataSource)\r\n        var oldArrYearsInfo = [];\r\n        clone1.forEach((mItem)=>{\r\n            var year = Number( moment(Number(mItem.capsule_time)).format('YYYY'));\r\n\r\n            year = year?year:Number('0000');\r\n            mItem.capsule_time =  moment(Number(mItem.capsule_time)).format('YYYY.MM.DD')\r\n            if(!findInfo(year,mItem)){\r\n                 createYearItem(year,mItem)\r\n            }\r\n        })\r\n        yearArrSort(oldArrYearsInfo)\r\n        this.setState({\r\n            arrYearsInfo:oldArrYearsInfo\r\n        },()=>{\r\n        })\r\n\r\n        // 逐个查询 总数组中 元素的 yearName 是否 与 传过来的 mItem 中的年份是否相同\r\n        // 有相同 则将 mItem 存入相应的数组元素中\r\n        function findInfo(year,mItem){\r\n            for (let j = 0; j < oldArrYearsInfo.length; j++) {\r\n                var sItem =oldArrYearsInfo[j];\r\n                if(sItem.data===year){\r\n\r\n                    sItem.yearInfoList.push(mItem)\r\n                    return true\r\n                }\r\n            }\r\n            return false\r\n        }\r\n        // 用以将 新创建好的 年份时讯对象存入总数组中去\r\n        function createYearItem (year,mItem){\r\n            const yearItem = new createYearObj(year,mItem)\r\n            oldArrYearsInfo.push(yearItem)\r\n        }\r\n        \r\n        //  创建 年份数据 对象，\r\n        function createYearObj(data,yearInfo){\r\n            this.data = data\r\n            this.yearInfoList=[yearInfo]\r\n        }\r\n        // 对总数组中的 元素中的  年份进行排序\r\n        function yearArrSort(oldArrYearsInfo){\r\n            oldArrYearsInfo.sort(sortNumber)\r\n            function sortNumber(a,b)\r\n            {\r\n                return b.data - a.data\r\n            }\r\n        }\r\n    }\r\n    getRoute = ()=>{\r\n        const routeArr = getNowPath(this.props.history.location.pathname)\r\n        this.setState({\r\n            smNavdata:{\r\n                navData:routeArr.nav,\r\n                nowData:routeArr.detailRoute,\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"\">\r\n                <MainImg {...this.state.mainImgData} />\r\n                <SmallNav smNavdata={this.state.smNavdata}  />\r\n                <div className=\"f-content\" >\r\n                    <div className=\"page-content\" >\r\n                        {\r\n                            this.state.arrYearsInfo.map(item =>{\r\n                                return(\r\n                                    <CapsulesYearItem key={item.data} {...item}  {...this.props} />\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div className=\"both\"></div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default  Capsules\r\n"],"sourceRoot":""}