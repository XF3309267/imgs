(this["webpackJsonpbinary-app"]=this["webpackJsonpbinary-app"]||[]).push([[18],{466:function(t,e,a){},472:function(t,e){},493:function(t,e){},494:function(t,e){},758:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return b}));a(459);var n=a(458),i=(a(498),a(497)),o=(a(263),a(106)),r=a(3),s=a(4),c=a(5),l=a(6),u=a(0),d=a.n(u),h=a(60),m=a(504),p=a(503),f=a(108),g=a.n(f),S=a(492),y=a.n(S),_=(a(466),{part_id:"id",part_title:"\u6807\u9898",part_img:"\u56fe\u7247",part_url:"\u94fe\u63a5"}),b=function(t){Object(l.a)(a,t);var e=Object(c.a)(a);function a(){var t;return Object(r.a)(this,a),(t=e.call(this)).createColumns=function(t){var e=t.map((function(t){return"part_img"===t?{title:_[t],key:t,render:function(t){return d.a.createElement("img",{url:t.part_img,alt:"\u6682\u65e0\u56fe\u7247"})}}:{title:_[t],dataIndex:t,key:t}}));return e.push({title:"\u64cd\u4f5c",key:"action",Width:"100px",render:function(t){return d.a.createElement("div",null,d.a.createElement(o.a,{size:"small",type:"primary"}," \u7f16\u8f91"),d.a.createElement(o.a,{size:"small",type:"danger"}," \u5220\u9664"))}}),e},t.getData=function(){t.setState({isLoading:!0}),Object(h.d)().then((function(e){console.log(e);var a=Object.keys(e.data[0]),n=t.createColumns(a);t.setState({dataSource:e.data,showDataSource:e.data,columns:n})})).catch((function(t){})).finally((function(e){t.setState({isLoading:!1})}))},t.toExcel=function(){for(var e=[Object.keys(t.state.dataSource[0])],a=0;a<t.state.dataSource.length;a++)e.push([t.state.dataSource[a].part_id,t.state.dataSource[a].part_title,t.state.dataSource[a].part_img,t.state.dataSource[a].part_url]);var n=y.a.utils.aoa_to_sheet(e),i=y.a.utils.book_new();y.a.utils.book_append_sheet(i,n,"SheetJS"),y.a.writeFile(i,"articlesAt".concat(t.state.offset/t.state.limited+1,"-").concat(g()().format("YYYYMMDDHHmmss"),".xlsx"))},t.toUpload=function(){t.props.history.push("/admin/info/sharePart/upload")},t.state={showDataSource:[],dataSource:[],columns:[],total:0,isLoading:!1,offset:0,limited:10},t}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return d.a.createElement(n.a,{className:"myUserCard",bordered:!1,extra:d.a.createElement("div",{className:""},d.a.createElement(o.a,{type:"primary"}," \u9605\u8bfb\u6a21\u5f0f"),"\u2003",d.a.createElement(o.a,{icon:d.a.createElement(m.a,null),shape:"round",onClick:this.toUpload}," \u4e0a\u4f20"),"\u2003",d.a.createElement(o.a,{icon:d.a.createElement(p.a,null),onClick:this.toExcel},"\u5bfc\u51fa")),pagination:{current:this.state.offset/this.state.limited+1,pageSize:1}},d.a.createElement(i.a,{loading:this.state.isLoading,rowKey:function(t){return t.part_id},dataSource:this.state.showDataSource,columns:this.state.columns,pagination:{current:this.state.offset/this.state.limited+1,total:this.state.total,hideOnSinglePage:!1,onChange:this.onPageChange,showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange},className:"myUserTable"}))}}]),a}(u.Component)}}]);
//# sourceMappingURL=18.e0d842aa.chunk.js.map